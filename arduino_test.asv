% test the arduino
clear,clc,close all;
% build and start the motor control 
simulation_name = 'dc_motor_encoder_hardware_simulated'
rtwbuild(simulation_name)
tg=xpc;
load(tg,simulation_name)
tg.start
tg.status 
%%
[stepper, servo, a] = arduino_setup
setup = struct
setup.stepper = stepep
% disp('%d', tg.getsignal('Q4 AD'))
pause(1)
test(stepper, servo, tg)

